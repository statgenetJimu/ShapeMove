# Rでの形解析
# 2Dの{0,1}マトリクスの場合

# githubからパッケージをインストールする
require(devtools) 
library(devtools)
# ryamada22の自作パッケージのインストール
install_github("ryamada22/Ronlyryamada")

# その中の３つの関数ファイルのexampleの実行
example(my.circ.measure)
# my.circ.measureの簡単説明
# 格子点によって構成される閉領域の外周長は、外周に接する小正方形の
# 数を数えたり、外周を構成する辺の総長を測ったりすることでも測定できそうだが
# そうすると、2D的には同じ形でも、その置かれ方によって変わってしまう
# たとえば長方形を例にとる
# 辺が格子の軸方向と一致しているときと、45度傾いているときにはずいぶんと値が変わってくる
# それを補正するために、閉領域の外周に厚みを想定し、ある厚みの範囲にある正方形の個数
# (それは面積)によって、外周長の代用とする

example(my.border)
# 閉領域の外周折れ曲がり構成正方形を得る
# 閉領域を上下左右４方向に移動することで、外周構成正方形のリストができる
# そこに最小全域木を作り、その直径をとり、最後に直径の両端を結べば、それが外周に相当する、とする方法

example(my.dcirc.measure)
# 厚みを持たせた「外周相当の帯」を作り
# 外周を作り
# 外周相当の帯の各正方形を、外周構成正方形のうち最短距離にあるものに帰属させる
# 等距離にある正方形が複数ある場合には、等分する
# そうすることで、「外周相当」のうち、外周正方形の「持分」が決まるので
# それを外周正方形の「微小周長割合」とみなす